<!-- Navigation -->
<nav
  class="navbar navbar-expand-lg navbar-dark fixed-top"
  id="mainNav"
  style="background-color: #212529"
>
  <div class="container">
    <a class="navbar-brand js-scroll-trigger" href="{{ site.baseurl }}/" id="reality-lab-logo">
      {%- if site.logo -%}
      <img
        height="{{ site.logo.height | default: 52 }}"
        src="{{ site.logo.path }}"
      />
      {%- else -%} {{ site.title }} {%- endif -%}
    </a>
    <button
      class="navbar-toggler navbar-toggler-right"
      type="button"
      data-toggle="collapse"
      data-target="#navbarResponsive"
      aria-controls="navbarResponsive"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      Menu<i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav text-uppercase ml-auto">
      {% if site.locale and site.locale != "" and site.locale != nil %}
        {%- for link in site.data.navigation[site.locale].nav -%}
        <li class="nav-item {% if link.dropdown %}dropdown{% endif %}">
          {%- if link.dropdown -%}
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
            {% if link.title == 'AI' %}<svg width="22" height="22" viewBox="0 0 512 512"><defs><linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" /><stop offset="50%" style="stop-color:#2563EB;stop-opacity:1" /><stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" /></linearGradient></defs><path fill="url(#blueGradient)" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>{% else %}{{ link.title }} <span class="dropdown-arrow" style="margin-left: 8px; color: #007bff; font-size: 14px; font-weight: bold;">&#9662;</span>{% endif %}
          </a>
          <div class="dropdown-menu">
            {%- for item in link.dropdown -%}
            <a class="dropdown-item" href="{{ item.url }}"{% if item.onclick %} onclick="{{ item.onclick }}"{% endif %}>
              <div class="dropdown-item-content">
                {% if item.icon %}<i class="{{ item.icon }}"></i>{% endif %}
                <div class="dropdown-item-text">
                  <strong>{{ item.title }}</strong>
                  {% if item.desc %}<small>{{ item.desc }}</small>{% endif %}
                </div>
              </div>
            </a>
            {%- endfor -%}
          </div>
          {%- elsif link.url -%}
          <a class="nav-link{% unless link.external_page %} js-scroll-trigger{% endunless %}" href="{{ link.url }}"
            >{{ link.title }}</a
          >
          {%- elsif link.section -%}
          <a
            class="nav-link js-scroll-trigger"
            href="{{ site.baseurl }}/#{{ link.section }}"
            >{{ link.title }}</a
          >
          {%- else -%}
          <a class="nav-link js-scroll-trigger" href="#">{{ link.title }}</a>
          {%- endif -%}
        </li>
        {%- endfor -%}
      {% else %}
        {%- for link in site.data.navigation.nav -%}
        <li class="nav-item {% if link.dropdown %}dropdown{% endif %}">
          {%- if link.dropdown -%}
          <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
            {% if link.title == 'AI' %}<svg width="22" height="22" viewBox="0 0 512 512"><defs><linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#3B82F6;stop-opacity:1" /><stop offset="50%" style="stop-color:#2563EB;stop-opacity:1" /><stop offset="100%" style="stop-color:#1D4ED8;stop-opacity:1" /></linearGradient></defs><path fill="url(#blueGradient)" d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>{% else %}{{ link.title }} <span class="dropdown-arrow" style="margin-left: 8px; color: #007bff; font-size: 14px; font-weight: bold;">&#9662;</span>{% endif %}
          </a>
          <div class="dropdown-menu">
            {%- for item in link.dropdown -%}
            <a class="dropdown-item" href="{{ item.url }}"{% if item.onclick %} onclick="{{ item.onclick }}"{% endif %}>
              <div class="dropdown-item-content">
                {% if item.icon %}<i class="{{ item.icon }}"></i>{% endif %}
                <div class="dropdown-item-text">
                  <strong>{{ item.title }}</strong>
                  {% if item.desc %}<small>{{ item.desc }}</small>{% endif %}
                </div>
              </div>
            </a>
            {%- endfor -%}
          </div>
          {%- elsif link.url -%}
          <a class="nav-link{% unless link.external_page %} js-scroll-trigger{% endunless %}" href="{{ link.url }}"
            >{{ link.title }}</a
          >
          {%- elsif link.section -%}
          <a
            class="nav-link js-scroll-trigger"
            href="{{ site.baseurl }}/#{{ link.section }}"
            >{{ link.title }}</a
          >
          {%- else -%}
          <a class="nav-link js-scroll-trigger" href="#">{{ link.title }}</a>
          {%- endif -%}
        </li>
        {%- endfor -%}
      {% endif %}
      </ul>
    </div>
  </div>
</nav>
<!-- End Navigation -->
