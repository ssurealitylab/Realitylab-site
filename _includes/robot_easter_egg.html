<!-- Robot Easter Egg -->
<div id="robot-easter-egg" style="display: none;">
  <div id="robot-container">
    <!-- Reality Lab Robot based on provided image -->
    <svg width="200" height="300" viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
      <!-- Robot Head (round) -->
      <circle cx="100" cy="70" r="35" fill="#F5F5F5" stroke="#DDD" stroke-width="2"/>
      
      <!-- Head stripe -->
      <rect x="85" y="55" width="30" height="8" fill="#333" rx="4"/>
      
      <!-- Eyes (camera-like) -->
      <circle cx="90" cy="68" r="6" fill="#333"/>
      <circle cx="110" cy="68" r="6" fill="#333"/>
      <circle cx="90" cy="68" r="3" fill="#4A90E2"/>
      <circle cx="110" cy="68" r="3" fill="#4A90E2"/>
      <circle cx="90" cy="68" r="1" fill="#FFF"/>
      <circle cx="110" cy="68" r="1" fill="#FFF"/>
      
      <!-- Main Body (hexagonal torso) -->
      <polygon points="75,110 125,110 135,130 135,170 125,190 75,190 65,170 65,130" fill="#FFFFFF" stroke="#DDD" stroke-width="2"/>
      
      <!-- Chest panel -->
      <rect x="85" y="125" width="30" height="40" fill="#F0F0F0" stroke="#CCC" stroke-width="1" rx="5"/>
      <circle cx="100" cy="145" r="8" fill="#4A90E2" stroke="#333" stroke-width="1"/>
      
      <!-- Left Arm -->
      <g id="left-arm">
        <rect x="45" y="120" width="18" height="35" fill="#FFFFFF" stroke="#DDD" stroke-width="2" rx="9"/>
        <rect x="38" y="155" width="18" height="25" fill="#FFFFFF" stroke="#DDD" stroke-width="2" rx="9"/>
        <!-- Left Hand -->
        <circle cx="47" cy="185" r="8" fill="#F0F0F0" stroke="#DDD" stroke-width="2"/>
      </g>
      
      <!-- Right Arm (waving) -->
      <g id="right-arm">
        <rect x="137" y="120" width="18" height="35" fill="#FFFFFF" stroke="#DDD" stroke-width="2" rx="9"/>
        <rect x="144" y="155" width="18" height="25" fill="#FFFFFF" stroke="#DDD" stroke-width="2" rx="9" transform="rotate(-30 153 167)"/>
        <!-- Right Hand (waving) -->
        <circle cx="158" cy="175" r="8" fill="#F0F0F0" stroke="#DDD" stroke-width="2" transform="rotate(-30 158 175)"/>
      </g>
      
      <!-- Waist joint -->
      <circle cx="100" cy="195" r="8" fill="#E0E0E0" stroke="#CCC" stroke-width="2"/>
      
      <!-- Left Leg -->
      <rect x="85" y="200" width="12" height="40" fill="#FFFFFF" stroke="#DDD" stroke-width="2" rx="6"/>
      <rect x="82" y="240" width="18" height="15" fill="#F0F0F0" stroke="#DDD" stroke-width="2" rx="3"/>
      
      <!-- Right Leg -->
      <rect x="103" y="200" width="12" height="40" fill="#FFFFFF" stroke="#DDD" stroke-width="2" rx="6"/>
      <rect x="100" y="240" width="18" height="15" fill="#F0F0F0" stroke="#DDD" stroke-width="2" rx="3"/>
      
      <!-- Text bubble -->
      <g id="hello-text">
        <ellipse cx="180" cy="90" rx="35" ry="20" fill="#FFF" stroke="#333" stroke-width="1"/>
        <text x="180" y="95" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Hello,</text>
        <text x="180" y="108" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">World!</text>
        <polygon points="155,100 145,105 150,95" fill="#FFF" stroke="#333" stroke-width="1"/>
      </g>
    </svg>
  </div>
</div>

<style>
#robot-easter-egg {
  position: fixed;
  top: 50%;
  left: -250px; /* Start off-screen */
  transform: translateY(-50%);
  z-index: 9999;
  pointer-events: none;
}

#robot-container {
  animation-fill-mode: forwards;
}

/* Slide-in animation */
@keyframes slideInRobot {
  0% {
    left: -250px;
  }
  20% {
    left: 20px; /* Stop so left edge is visible */
  }
  80% {
    left: 20px; /* Stay visible longer */
  }
  100% {
    left: -250px; /* Slide back out */
  }
}

/* Wave animation */
@keyframes waveHand {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-20deg); }
  75% { transform: rotate(20deg); }
}

/* Text bubble animation */
@keyframes fadeText {
  0%, 20% { opacity: 0; }
  30%, 60% { opacity: 1; }
  70%, 100% { opacity: 0; }
}

.robot-animate {
  animation: slideInRobot 5s ease-in-out;
}

.robot-animate #right-arm {
  transform-origin: 146px 140px;
  animation: waveHand 0.8s ease-in-out infinite;
}

.robot-animate #hello-text {
  animation: fadeText 5s ease-in-out;
}
</style>

<script>
// Wait for everything to load, then try multiple times
setTimeout(function() {
    let clickCount = 0;
    let clickTimer = null;
    let isAnimating = false;
    
    console.log('Robot Easter Egg script starting...');
    
    function findLogo() {
        // Try multiple selectors for the logo
        return document.getElementById('reality-lab-logo') || 
               document.querySelector('.navbar-brand') || 
               document.querySelector('a.navbar-brand') ||
               document.querySelector('nav .container a:first-child') ||
               document.querySelector('#mainNav .navbar-brand');
    }
    
    function initEasterEgg() {
        const logo = findLogo();
        const robotEgg = document.getElementById('robot-easter-egg');
        
        console.log('Trying to find logo...');
        console.log('Logo element:', logo);
        console.log('Logo text content:', logo ? logo.textContent : 'N/A');
        console.log('Robot egg element:', robotEgg);
        
        if (!logo || !robotEgg) {
            console.log('Elements not found, will keep trying...');
            return false;
        }
        
        console.log('‚úÖ Logo found! Setting up easter egg...');
        
        logo.addEventListener('click', function(e) {
            e.preventDefault();
            
            console.log('Logo clicked! Count:', clickCount + 1);
            
            // Reset timer if more than 3 seconds passed
            if (clickTimer) {
                clearTimeout(clickTimer);
            }
            
            clickCount++;
            
            // Reset click count after 3 seconds
            clickTimer = setTimeout(function() {
                console.log('Click count reset');
                clickCount = 0;
            }, 3000);
            
            // Trigger easter egg if 5 clicks within 3 seconds
            if (clickCount >= 5 && !isAnimating) {
                console.log('ü§ñ Easter egg triggered!');
                triggerRobotEasterEgg();
                clickCount = 0;
            }
        });
        
        function triggerRobotEasterEgg() {
            if (isAnimating) return;
            
            console.log('üé¨ Showing robot animation');
            isAnimating = true;
            robotEgg.style.display = 'block';
            robotEgg.classList.add('robot-animate');
            
            // Hide after animation completes (5 seconds total)
            setTimeout(function() {
                robotEgg.style.display = 'none';
                robotEgg.classList.remove('robot-animate');
                isAnimating = false;
                console.log('üé¨ Robot animation completed');
            }, 5000);
        }
        
        return true;
    }
    
    // Try multiple times with increasing delays
    let attempts = 0;
    function tryInit() {
        attempts++;
        console.log(`üîç Easter egg init attempt ${attempts}`);
        
        if (initEasterEgg()) {
            console.log('üéâ Easter egg successfully initialized!');
            return;
        }
        
        if (attempts < 10) {
            setTimeout(tryInit, attempts * 1000); // 1s, 2s, 3s, etc.
        } else {
            console.log('‚ùå Failed to initialize easter egg after 10 attempts');
        }
    }
    
    tryInit();
}, 2000); // Start after 2 seconds
</script>